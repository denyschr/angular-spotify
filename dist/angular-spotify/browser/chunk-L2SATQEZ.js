import{a as O,b as q}from"./chunk-5WG36ES5.js";import{a as j,b as G,c as R,d as L,e as Y,j as J}from"./chunk-7S22V6AM.js";import"./chunk-GRPPVZSJ.js";import{d as B,i as N}from"./chunk-TGLXXXVQ.js";import{$ as s,D as h,Da as M,E as y,Ea as w,Fa as U,Ga as H,Ja as A,Q as r,R as k,W as m,Y as o,_ as a,aa as l,ab as b,ba as g,ca as d,ga as f,j as I,m as E,ma as P,n as D,na as p,oa as v,q as S,ua as F,wa as x,xa as T,y as u,za as $}from"./chunk-J6CKLZZ5.js";var z=(()=>{let t=class t{get message(){let i=new Date().getHours();return`Good ${i<12?"Morning \u{1F31E}":i<18?"Afternoon \u{1F324}":"Evening \u{1F319}"}${B()}`}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=h({type:t,selectors:[["as-greeting"]],decls:2,vars:1,consts:[[1,"message","mb-5","text-title-medium"]],template:function(i,_){i&1&&(a(0,"h1",0),p(1),s()),i&2&&(r(),v(_.message))},styles:['[_ngcontent-%COMP%]:root{--font-family-base: "Inter";--font-weight-base: 400;--font-weight-bold: 700;--corner-radius-base: .25rem;--corner-radius-larger: .375rem;--corner-radius-larger-2: .5rem;--background-base: linear-gradient(to bottom right, #191624, #121286);--background-press: #191624;--background-ghost-white: rgba(255, 255, 255, .05);--background-misty-white: rgba(255, 255, 255, .1);--background-cyan: rgb(34 211 238);--background-cyan-light: rgb(103 232 249);--background-subdued: rgb(156 163 175);--text-base: #fff;--text-press: #191624;--text-cyan: rgb(34 211 238);--text-subdued: rgb(156 163 175);--text-silver: rgb(209 213 219);--left-sidebar-width: 15rem;--top-bar-height: 4rem;--min-column-width: 11.25rem;--top-bar-opacity: 0}@media (max-width: 29.99875em){.message[_ngcontent-%COMP%]{display:none}}'],changeDetection:0});let e=t;return e})();function W(e,t){if(e&1&&(g(0),l(1,"as-card",11),d()),e&2){let n=t.$implicit;r(),o("title",n.name)("description",n.artists[0].name)("routerUrl","/track/"+n.id)("imageUrl",n.album.images[0]==null?null:n.album.images[0].url)}}function X(e,t){if(e&1&&(a(0,"section",7)(1,"h2",8),p(2,"Recently played"),s(),a(3,"div",9),m(4,W,2,4,"ng-container",10),s()()),e&2){let n=f().ngIf;r(4),o("ngForOf",n.recentPlayed)}}function Z(e,t){if(e&1&&(g(0),l(1,"as-card",11),d()),e&2){let n=t.$implicit;r(),o("title",n.name)("description",n.artists[0].name)("routerUrl","/track/"+n.id)("imageUrl",n.album.images[0]==null?null:n.album.images[0].url)}}function ee(e,t){if(e&1&&(a(0,"section",7)(1,"h2",8),p(2,"Your favorite tracks"),s(),a(3,"div",9),m(4,Z,2,4,"ng-container",12),s()()),e&2){let n=f().ngIf;r(4),o("ngForOf",n.topTracks)}}function te(e,t){if(e&1&&(g(0),l(1,"as-card",13),x(2,"titlecase"),d()),e&2){let n=t.$implicit;r(),o("title",n.name)("description",T(2,5,n.type))("routerUrl","/artist/"+n.id)("imageUrl",n.images[0]==null?null:n.images[0].url)("roundedImage",!0)}}function ne(e,t){if(e&1&&(a(0,"section",7)(1,"h2",8),p(2,"Your favorite artists"),s(),a(3,"div",9),m(4,te,3,7,"ng-container",12),s()()),e&2){let n=f().ngIf;r(4),o("ngForOf",n.topArtists)}}function ie(e,t){if(e&1&&(g(0),a(1,"div",5),m(2,X,5,1,"section",6)(3,ee,5,1,"section",6)(4,ne,5,1,"section",6),s(),d()),e&2){let n=t.ngIf;r(2),o("ngIf",n.recentPlayed.length),r(),o("ngIf",n.topTracks.length),r(),o("ngIf",n.topArtists.length)}}function re(e,t){if(e&1&&(a(0,"span"),p(1),s()),e&2){let n=t.ngIf;r(),v(n)}}function oe(e,t){e&1&&l(0,"as-loading-spinner")}function ae(e,t){if(e&1&&m(0,oe,1,0,"as-loading-spinner",2),e&2){let n=f().ngIf;o("ngIf",!n.userDataError)}}function se(e,t){if(e&1&&(g(0),m(1,ie,5,3,"ng-container",3)(2,re,2,1,"span",2)(3,ae,1,1,"ng-template",null,4,$),d()),e&2){let n=t.ngIf,c=P(4);r(),o("ngIf",!n.userDataError&&n.userData)("ngIfElse",c),r(),o("ngIf",n.userDataError)}}var ce=(e,t)=>({userData:e,userDataError:t}),K=(()=>{let t=class t{constructor(c){this._userService=c,this._recentPlayedTracks$=this._userService.getRecentPlayedTracks(),this._userTopArtists$=this._userService.getUserTopArtists(),this._userTopTracks$=this._userService.getUserTopTracks(),this.userData$=E({recentPlayed:this._recentPlayedTracks$,topArtists:this._userTopArtists$,topTracks:this._userTopTracks$}),this.userDataError$=this.userData$.pipe(S(),D(()=>I("Could not fetch user data")))}};t.\u0275fac=function(i){return new(i||t)(k(N))},t.\u0275cmp=h({type:t,selectors:[["as-home"]],decls:7,vars:8,consts:[[1,"page"],[1,"page__container"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[1,"grid-container"],["class","section col-span-full",4,"ngIf"],[1,"section","col-span-full"],[1,"section__title","text-title-small"],[1,"section__items","common-grid"],[4,"ngFor","ngForOf"],[3,"title","description","routerUrl","imageUrl"],[4,"ngFor","ngForTrackById","ngForOf"],[3,"title","description","routerUrl","imageUrl","roundedImage"]],template:function(i,_){i&1&&(l(0,"as-top-bar"),a(1,"main",0)(2,"div",1),l(3,"as-greeting"),m(4,se,5,3,"ng-container",2),x(5,"async"),x(6,"async"),s()()),i&2&&(r(4),o("ngIf",F(5,ce,T(5,1,_.userData$),T(6,3,_.userDataError$))))},dependencies:[M,w,O,j,G,R,z,U,H],changeDetection:0});let e=t;return e})();var me=[{path:"",component:K}],Q=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=y({type:t}),t.\u0275inj=u({imports:[b.forChild(me),b]});let e=t;return e})();var le=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=y({type:t}),t.\u0275inj=u({imports:[A,Q,q,L,Y,J]});let e=t;return e})();export{le as HomeModule};
