import{e as K,f as Q}from"./chunk-5WG36ES5.js";import"./chunk-5S6OSEYO.js";import{e as u,f as W,h as $,i as Y}from"./chunk-4KC2LGDH.js";import{$ as s,$a as U,B as i,D as d,E as p,Ja as F,Ma as R,Oa as E,Pa as N,Q as f,Qa as H,R as I,Ra as z,Sa as B,Y as h,Ya as y,Za as G,_ as n,_a as J,a as O,aa as m,ab as _,fa as j,j as L,k as C,n as x,na as g,ra as D,sa as b,t as T,v as A,y as l}from"./chunk-J6CKLZZ5.js";var V=()=>["/home"],oe=()=>["/search"],ie=()=>["/library"],Z=(()=>{let t=class t{constructor(o){this._userService=o}onLogout(){this._userService.logout()}};t.\u0275fac=function(r){return new(r||t)(I(Y))},t.\u0275cmp=d({type:t,selectors:[["as-left-sidebar"]],decls:22,vars:8,consts:[["aria-label","Main navigation",1,"left-sidebar","sticky","flex-col"],[1,"left-sidebar__top"],[1,"left-sidebar__logo",3,"routerLink"],["src","/assets/icons/spotify-logo.svg","width","100","height","30","alt","Logo"],[1,"left-sidebar__body"],[1,"left-sidebar__list"],[1,"left-sidebar__item"],["routerLinkActive","_active",1,"left-sidebar__link","flex-row-center","text-body-medium","_icon-home",3,"routerLink"],["routerLinkActive","_active",1,"left-sidebar__link","flex-row-center","text-body-medium","_icon-magnifier",3,"routerLink"],["routerLinkActive","_active",1,"left-sidebar__link","flex-row-center","text-body-medium","_icon-library",3,"routerLink"],[1,"left-sidebar__bottom"],[1,"left-sidebar__logout","flex-row-center","_icon-logout",3,"click"]],template:function(r,c){r&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2),m(3,"img",3),s()(),n(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7)(8,"span"),g(9,"Home"),s()()(),n(10,"li",6)(11,"a",8)(12,"span"),g(13,"Search"),s()()(),n(14,"li",6)(15,"a",9)(16,"span"),g(17,"Your library"),s()()()()(),n(18,"div",10)(19,"button",11),j("click",function(){return c.onLogout()}),n(20,"span"),g(21,"Logout"),s()()()()),r&2&&(f(2),h("routerLink",b(4,V)),f(5),h("routerLink",b(5,V)),f(4),h("routerLink",b(6,oe)),f(4),h("routerLink",b(7,ie)))},dependencies:[J,U],styles:['[_ngcontent-%COMP%]:root{--font-family-base: "Inter";--font-weight-base: 400;--font-weight-bold: 700;--corner-radius-base: .25rem;--corner-radius-larger: .375rem;--corner-radius-larger-2: .5rem;--background-base: linear-gradient(to bottom right, #191624, #121286);--background-press: #191624;--background-ghost-white: rgba(255, 255, 255, .05);--background-misty-white: rgba(255, 255, 255, .1);--background-cyan: rgb(34 211 238);--background-cyan-light: rgb(103 232 249);--background-subdued: rgb(156 163 175);--text-base: #fff;--text-press: #191624;--text-cyan: rgb(34 211 238);--text-subdued: rgb(156 163 175);--text-silver: rgb(209 213 219);--left-sidebar-width: 15rem;--top-bar-height: 4rem;--min-column-width: 11.25rem;--top-bar-opacity: 0}[_nghost-%COMP%]{grid-area:left-sidebar}.left-sidebar[_ngcontent-%COMP%]{gap:1.5rem;width:var(--left-sidebar-width);height:100vh;padding:1.125rem;background-color:var(--background-press)}@media (max-width: 61.99875em){.left-sidebar[_ngcontent-%COMP%]{--left-sidebar-width: 4.5rem;padding:.875rem 1rem}}@media (max-width: 61.99875em){.left-sidebar__top[_ngcontent-%COMP%]{display:none}}.left-sidebar__body[_ngcontent-%COMP%]{flex-grow:1}.left-sidebar__list[_ngcontent-%COMP%]{display:grid;row-gap:.25rem}.left-sidebar__link[_ngcontent-%COMP%]{margin-inline:-.375rem;padding:.625rem .75rem;border-radius:var(--corner-radius-larger);text-transform:capitalize;transition:background .2s linear}.left-sidebar__link[_ngcontent-%COMP%]:before{font-size:1.25rem}.left-sidebar__link._active[_ngcontent-%COMP%]{pointer-events:none;color:var(--text-cyan);background-color:var(--background-misty-white)}@media (any-hover: hover){.left-sidebar__link[_ngcontent-%COMP%]:hover{background-color:var(--background-misty-white)}}@media (min-width: 61.99875em){.left-sidebar__link[_ngcontent-%COMP%]{gap:1rem}}@media (max-width: 61.99875em){.left-sidebar__link[_ngcontent-%COMP%]{justify-content:center;padding:.75rem .625rem;margin-inline:-.3125rem}.left-sidebar__link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}@media (max-width: 61.99875em){.left-sidebar__bottom[_ngcontent-%COMP%]{align-self:center}}.left-sidebar__logout[_ngcontent-%COMP%]{gap:1rem;color:var(--text-subdued);transition:color .2s linear}.left-sidebar__logout[_ngcontent-%COMP%]:before{font-size:1.25rem}@media (any-hover: hover){.left-sidebar__logout[_ngcontent-%COMP%]:hover{color:var(--text-base)}}@media (max-width: 61.99875em){.left-sidebar__logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}'],changeDetection:0});let e=t;return e})();var k=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d({type:t,selectors:[["as-standard-page-layout"]],decls:4,vars:0,consts:[[1,"wrapper"],["opacityScroll","",1,"main-view"]],template:function(r,c){r&1&&(n(0,"div",0),m(1,"as-left-sidebar"),n(2,"div",1),m(3,"router-outlet"),s()())},changeDetection:0});let e=t;return e})();function M(e){let{isAuthenticated:t,otherwise:a}=e;return()=>{let o=i(G);return!!i(u).getAccessToken()!==t?o.createUrlTree([a]):!0}}var ne=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",loadChildren:()=>import("./chunk-7A7GC7O6.js").then(e=>e.LoginModule),canMatch:[M({isAuthenticated:!1,otherwise:""})]},{path:"",component:k,canMatch:[M({isAuthenticated:!0,otherwise:"/login"})],children:[{path:"home",loadChildren:()=>import("./chunk-OTB2HE66.js").then(e=>e.HomeModule)},{path:"search",loadChildren:()=>import("./chunk-EHMPFPFG.js").then(e=>e.SearchModule)},{path:"library",loadChildren:()=>import("./chunk-XN2WMDSG.js").then(e=>e.LibraryModule)},{path:"album/:id",loadChildren:()=>import("./chunk-CX4UACZL.js").then(e=>e.AlbumModule)},{path:"artist/:id",loadChildren:()=>import("./chunk-UDXB7JVP.js").then(e=>e.ArtistModule)},{path:"playlist/:id",loadChildren:()=>import("./chunk-ZL3JMJYA.js").then(e=>e.PlaylistModule)},{path:"track/:id",loadChildren:()=>import("./chunk-HHNLY7QK.js").then(e=>e.TrackModule)}]},{path:"**",redirectTo:"not-found"},{path:"not-found",loadChildren:()=>import("./chunk-V3Z2QKFN.js").then(e=>e.NotFoundModule)}],q=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p({type:t}),t.\u0275inj=l({imports:[_.forRoot(ne,{scrollPositionRestoration:"enabled"}),_]});let e=t;return e})();var ee=(()=>{let t=class t{constructor(){this.title="music-player"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d({type:t,selectors:[["as-root"]],decls:1,vars:0,template:function(r,c){r&1&&m(0,"router-outlet")},dependencies:[y]});let e=t;return e})();var w=(e,t)=>{let a=i(u).getAccessToken(),o=e.clone({setHeaders:O({},a?{Authorization:`Bearer ${a}`}:{})});return t(o)};var S=(e,t)=>{let a=i($);if(e.method!=="GET")return t(e);let o=a.get(e.urlWithParams);return o?L(o):t(e).pipe(A(r=>{r instanceof R&&a.set(e.urlWithParams,r)}))};var P=(e,t)=>{let a=i(W),o=i(u);return t(e).pipe(x(r=>r.status===401?a.refreshToken().pipe(T(c=>(o.saveAccessToken(c.access_token),o.saveRefreshToken(c.refresh_token),t(e.clone({setHeaders:{Authorization:`Bearer ${c.access_token}`}})))),x(c=>C(()=>c.error))):C(()=>r.error)))};var te=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p({type:t}),t.\u0275inj=l({providers:[E(N([w,P,S]))],imports:[F,_,H,Q]});let e=t;return e})();D(k,[y,K,Z],[]);var re=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=p({type:t,bootstrap:[ee]}),t.\u0275inj=l({imports:[B,q,te]});let e=t;return e})();z().bootstrapModule(re).catch(e=>console.error(e));
