<div class="grid-container">
  <ng-container *ngIf="allResults$ | async as allResults; else loading">
    <ng-container *ngIf="allResults.total; else noResults">
      <sp-search-nav class="col-span-full"></sp-search-nav>
      <sp-search-all-results
        class="grid-container col-span-full"
        *ngIf="selectedSectionType === sectionTypes.all; else filteredResults"
        [results]="allResults.results"
      ></sp-search-all-results>
    </ng-container>
  </ng-container>
</div>

<ng-template #filteredResults>
  <ng-container *ngIf="filteredResults$ | async as filteredResults">
    <sp-search-filtered-results
      class="col-span-full"
      *ngIf="filteredResults.length; else noResults"
      [results]="filteredResults"
    ></sp-search-filtered-results>
  </ng-container>
</ng-template>

<ng-template #noResults>
  <sp-no-results class="col-span-full" [query]="searchTerm"></sp-no-results>
</ng-template>

<ng-template #loading>
  <sp-loading-spinner></sp-loading-spinner>
</ng-template>
