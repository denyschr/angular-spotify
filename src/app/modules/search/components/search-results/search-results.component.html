<ng-container *ngIf="vm$ | async as vm">
  <ng-container *ngIf="vm.allResults.total; else noResults">
    <app-search-all-results
      *ngIf="vm.type === sectionTypes.all; else filteredResults"
      [results]="vm.allResults.results"
    ></app-search-all-results>
  </ng-container>
  <ng-template #filteredResults>
    <app-search-filtered-results
      *ngIf="vm.filteredResults.length; else noResults"
      [results]="vm.filteredResults"
    ></app-search-filtered-results>
  </ng-template>
  <ng-template #noResults>
    <app-no-results [query]="vm.term"></app-no-results>
  </ng-template>
</ng-container>
